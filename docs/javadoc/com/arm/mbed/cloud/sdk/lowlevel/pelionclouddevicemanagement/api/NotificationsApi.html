<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_162) on Fri May 17 16:37:58 BST 2019 -->
<title>NotificationsApi (mbed-cloud-sdk 2.3.1 API)</title>
<meta name="date" content="2019-05-17">
<link rel="stylesheet" type="text/css" href="../../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="NotificationsApi (mbed-cloud-sdk 2.3.1 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../../com/arm/mbed/cloud/sdk/lowlevel/pelionclouddevicemanagement/api/EnrollmentDenialsApi.html" title="interface in com.arm.mbed.cloud.sdk.lowlevel.pelionclouddevicemanagement.api"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../../com/arm/mbed/cloud/sdk/lowlevel/pelionclouddevicemanagement/api/PreSharedKeysApi.html" title="interface in com.arm.mbed.cloud.sdk.lowlevel.pelionclouddevicemanagement.api"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../../index.html?com/arm/mbed/cloud/sdk/lowlevel/pelionclouddevicemanagement/api/NotificationsApi.html" target="_top">Frames</a></li>
<li><a href="NotificationsApi.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.arm.mbed.cloud.sdk.lowlevel.pelionclouddevicemanagement.api</div>
<h2 title="Interface NotificationsApi" class="title">Interface NotificationsApi</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="typeNameLabel">NotificationsApi</span></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>retrofit2.Call&lt;java.lang.Void&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/arm/mbed/cloud/sdk/lowlevel/pelionclouddevicemanagement/api/NotificationsApi.html#connectWebsocket-java.lang.String-java.lang.String-java.lang.String-java.lang.Integer-java.lang.String-java.lang.String-">connectWebsocket</a></span>(java.lang.String&nbsp;connection,
                java.lang.String&nbsp;upgrade,
                java.lang.String&nbsp;origin,
                java.lang.Integer&nbsp;secWebSocketVersion,
                java.lang.String&nbsp;secWebSocketKey,
                java.lang.String&nbsp;secWebSocketProtocol)</code>
<div class="block">(PREVIEW) Open the websocket.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>retrofit2.Call&lt;java.lang.Void&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/arm/mbed/cloud/sdk/lowlevel/pelionclouddevicemanagement/api/NotificationsApi.html#deleteLongPollChannel--">deleteLongPollChannel</a></span>()</code>
<div class="block">Delete notification Long Poll channel.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>retrofit2.Call&lt;java.lang.Void&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/arm/mbed/cloud/sdk/lowlevel/pelionclouddevicemanagement/api/NotificationsApi.html#deleteWebsocket--">deleteWebsocket</a></span>()</code>
<div class="block">(PREVIEW) Delete websocket channel.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>retrofit2.Call&lt;java.lang.Void&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/arm/mbed/cloud/sdk/lowlevel/pelionclouddevicemanagement/api/NotificationsApi.html#deregisterWebhook--">deregisterWebhook</a></span>()</code>
<div class="block">Delete callback URL.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>retrofit2.Call&lt;<a href="../../../../../../../../com/arm/mbed/cloud/sdk/lowlevel/pelionclouddevicemanagement/model/ChannelMetadata.html" title="class in com.arm.mbed.cloud.sdk.lowlevel.pelionclouddevicemanagement.model">ChannelMetadata</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/arm/mbed/cloud/sdk/lowlevel/pelionclouddevicemanagement/api/NotificationsApi.html#getChannelMetadata--">getChannelMetadata</a></span>()</code>
<div class="block">Get channel metadata.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>retrofit2.Call&lt;<a href="../../../../../../../../com/arm/mbed/cloud/sdk/lowlevel/pelionclouddevicemanagement/model/Webhook.html" title="class in com.arm.mbed.cloud.sdk.lowlevel.pelionclouddevicemanagement.model">Webhook</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/arm/mbed/cloud/sdk/lowlevel/pelionclouddevicemanagement/api/NotificationsApi.html#getWebhook--">getWebhook</a></span>()</code>
<div class="block">Check callback URL.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>retrofit2.Call&lt;<a href="../../../../../../../../com/arm/mbed/cloud/sdk/lowlevel/pelionclouddevicemanagement/model/WebsocketChannel.html" title="class in com.arm.mbed.cloud.sdk.lowlevel.pelionclouddevicemanagement.model">WebsocketChannel</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/arm/mbed/cloud/sdk/lowlevel/pelionclouddevicemanagement/api/NotificationsApi.html#getWebsocket--">getWebsocket</a></span>()</code>
<div class="block">(PREVIEW) Get websocket channel information.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>retrofit2.Call&lt;<a href="../../../../../../../../com/arm/mbed/cloud/sdk/lowlevel/pelionclouddevicemanagement/model/NotificationMessage.html" title="class in com.arm.mbed.cloud.sdk.lowlevel.pelionclouddevicemanagement.model">NotificationMessage</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/arm/mbed/cloud/sdk/lowlevel/pelionclouddevicemanagement/api/NotificationsApi.html#longPollNotifications--">longPollNotifications</a></span>()</code>
<div class="block">Get notifications using Long Poll In this case, notifications are delivered through HTTP long poll requests.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>retrofit2.Call&lt;java.lang.Void&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/arm/mbed/cloud/sdk/lowlevel/pelionclouddevicemanagement/api/NotificationsApi.html#registerWebhook-com.arm.mbed.cloud.sdk.lowlevel.pelionclouddevicemanagement.model.Webhook-">registerWebhook</a></span>(<a href="../../../../../../../../com/arm/mbed/cloud/sdk/lowlevel/pelionclouddevicemanagement/model/Webhook.html" title="class in com.arm.mbed.cloud.sdk.lowlevel.pelionclouddevicemanagement.model">Webhook</a>&nbsp;webhook)</code>
<div class="block">Register a callback URL.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>retrofit2.Call&lt;<a href="../../../../../../../../com/arm/mbed/cloud/sdk/lowlevel/pelionclouddevicemanagement/model/WebsocketChannel.html" title="class in com.arm.mbed.cloud.sdk.lowlevel.pelionclouddevicemanagement.model">WebsocketChannel</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/arm/mbed/cloud/sdk/lowlevel/pelionclouddevicemanagement/api/NotificationsApi.html#registerWebsocket--">registerWebsocket</a></span>()</code>
<div class="block">(PREVIEW) Register a websocket channel.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="connectWebsocket-java.lang.String-java.lang.String-java.lang.String-java.lang.Integer-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connectWebsocket</h4>
<pre>@GET(value="v2/notification/websocket-connect")
retrofit2.Call&lt;java.lang.Void&gt;&nbsp;connectWebsocket(@Header(value="Connection")
                                                                                                 java.lang.String&nbsp;connection,
                                                                                                 @Header(value="Upgrade")
                                                                                                 java.lang.String&nbsp;upgrade,
                                                                                                 @Header(value="Origin")
                                                                                                 java.lang.String&nbsp;origin,
                                                                                                 @Header(value="Sec-WebSocket-Version")
                                                                                                 java.lang.Integer&nbsp;secWebSocketVersion,
                                                                                                 @Header(value="Sec-WebSocket-Key")
                                                                                                 java.lang.String&nbsp;secWebSocketKey,
                                                                                                 @Header(value="Sec-WebSocket-Protocol")
                                                                                                 java.lang.String&nbsp;secWebSocketProtocol)</pre>
<div class="block">(PREVIEW) Open the websocket. (PREVIEW) A websocket channel can have only one active connection at a time. If a
 websocket connection for a channel exists and a new connection to the same channel is made, the connection is
 accepted and the older connection is closed. Once the socket has been opened, it may be closed with one of the
 following status codes. | Code | Description | |------|-------------| |**1000**|Socket closed by the client.|
 |**1001**|Going away. Set when another socket was opened on the used channel, or if the channel was deleted with
 a REST call, or if the server is shutting down.| |**1006**|Abnormal loss of connection. This code is never set by
 the service.| |**1008**|Policy violation. Set when the API key is missing or invalid.| |**1011**|Unexpected
 condition. Socket is closed with this status at an attempt to open a socket to an unexisting channel (without a
 prior REST PUT). This code is also used to indicate closing socket for any other unexpected condition in the
 server.| **Example:** &#x60;&#x60;&#x60; curl -X GET
 https://api.us-east-1.mbedcloud.com/v2/notification/websocket-connect \\ -H \&quot;Authorization:Bearer
 {apikey}\&quot; \\ -H \&quot;Connection:upgrade\&quot; \\ -H \&quot;Upgrade:websocket\&quot; \\ -H
 \&quot;Sec-WebSocket-Version: 13\&quot; \\ -H \&quot;Sec-WebSocket-Key: {base64nonce}\&quot; \\ -N -I
 &#x60;&#x60;&#x60;</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>connection</code> - (required)</dd>
<dd><code>upgrade</code> - (required)</dd>
<dd><code>origin</code> - Originating host of the request. (required)</dd>
<dd><code>secWebSocketVersion</code> - WebSocket version. must be 13. (required)</dd>
<dd><code>secWebSocketKey</code> - The value of this header field must be a nonce consisting of a randomly selected 16-byte value that
            has been base64-encoded (see Section 4 of [RFC4648]). The nonce must be selected randomly for each
            connection. (required)</dd>
<dd><code>secWebSocketProtocol</code> - API key or user token must be present in the &#x60;Sec-WebSocket-Protocol&#x60; header **if
            Authorization header cannot be provided**:
            &#x60;Sec-WebSocket-Protocol:\&quot;wss,pelion_ak_{api_key}\&quot;&#x60;. Refer to the notification
            service documentation for examples. (optional)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Call&lt;Void&gt;</dd>
</dl>
</li>
</ul>
<a name="deleteLongPollChannel--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteLongPollChannel</h4>
<pre>@DELETE(value="v2/notification/pull")
retrofit2.Call&lt;java.lang.Void&gt;&nbsp;deleteLongPollChannel()</pre>
<div class="block">Delete notification Long Poll channel. Delete a notification Long Poll channel. This is required to change the
 channel from Long Poll to another type. Do not make a GET &#x60;/v2/notification/pull&#x60; call for two minutes
 after deleting the channel, because it can implicitly recreate the pull channel. You can also have some random
 responses with payload or 410 GONE with \&quot;CHANNEL_DELETED\&quot; as a payload or 200/204 until the old
 channel is purged. **Example:** &#x60;&#x60;&#x60; curl -X DELETE
 https://api.us-east-1.mbedcloud.com/v2/notification/pull \\ -H &#39;Authorization: Bearer &lt;api_key&gt;&#39;
 &#x60;&#x60;&#x60;</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Call&lt;Void&gt;</dd>
</dl>
</li>
</ul>
<a name="deleteWebsocket--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteWebsocket</h4>
<pre>@DELETE(value="v2/notification/websocket")
retrofit2.Call&lt;java.lang.Void&gt;&nbsp;deleteWebsocket()</pre>
<div class="block">(PREVIEW) Delete websocket channel. (PREVIEW) Delete a notification websocket channel bound to the API key. This
 is required to change the channel from websocket to another type. **Example:** &#x60;&#x60;&#x60; curl -X DELETE
 https://api.us-east-1.mbedcloud.com/v2/notification/websocket \\ -H &#39;Authorization: Bearer
 &lt;api_key&gt;&#39; &#x60;&#x60;&#x60;</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Call&lt;Void&gt;</dd>
</dl>
</li>
</ul>
<a name="deregisterWebhook--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deregisterWebhook</h4>
<pre>@DELETE(value="v2/notification/callback")
retrofit2.Call&lt;java.lang.Void&gt;&nbsp;deregisterWebhook()</pre>
<div class="block">Delete callback URL. Deletes the callback URL. **Example:** &#x60;&#x60;&#x60; curl -X DELETE
 https://api.us-east-1.mbedcloud.com/v2/notification/callback \\ -H &#39;Authorization: Bearer
 &lt;api_key&gt;&#39; &#x60;&#x60;&#x60;</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Call&lt;Void&gt;</dd>
</dl>
</li>
</ul>
<a name="getChannelMetadata--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChannelMetadata</h4>
<pre>@GET(value="v2/notification/channel")
retrofit2.Call&lt;<a href="../../../../../../../../com/arm/mbed/cloud/sdk/lowlevel/pelionclouddevicemanagement/model/ChannelMetadata.html" title="class in com.arm.mbed.cloud.sdk.lowlevel.pelionclouddevicemanagement.model">ChannelMetadata</a>&gt;&nbsp;getChannelMetadata()</pre>
<div class="block">Get channel metadata. Get channel delivery mechanism. **Example:** curl -X GET
 https://api.us-east-1.mbedcloud.com/v2/notification/channel \\ -H &#39;Authorization: Bearer &lt;api_key&gt;&#39;
 \\</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Call&lt;ChannelMetadata&gt;</dd>
</dl>
</li>
</ul>
<a name="getWebhook--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWebhook</h4>
<pre>@GET(value="v2/notification/callback")
retrofit2.Call&lt;<a href="../../../../../../../../com/arm/mbed/cloud/sdk/lowlevel/pelionclouddevicemanagement/model/Webhook.html" title="class in com.arm.mbed.cloud.sdk.lowlevel.pelionclouddevicemanagement.model">Webhook</a>&gt;&nbsp;getWebhook()</pre>
<div class="block">Check callback URL. Shows the current callback URL if it exists. **Example:** &#x60;&#x60;&#x60; curl -X GET
 https://api.us-east-1.mbedcloud.com/v2/notification/callback \\ -H &#39;Authorization: Bearer
 &lt;api_key&gt;&#39; &#x60;&#x60;&#x60;</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Call&lt;Webhook&gt;</dd>
</dl>
</li>
</ul>
<a name="getWebsocket--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWebsocket</h4>
<pre>@GET(value="v2/notification/websocket")
retrofit2.Call&lt;<a href="../../../../../../../../com/arm/mbed/cloud/sdk/lowlevel/pelionclouddevicemanagement/model/WebsocketChannel.html" title="class in com.arm.mbed.cloud.sdk.lowlevel.pelionclouddevicemanagement.model">WebsocketChannel</a>&gt;&nbsp;getWebsocket()</pre>
<div class="block">(PREVIEW) Get websocket channel information. (PREVIEW) Returns 200 with websocket connection status, if websocket
 channel exists. **Example:** &#x60;&#x60;&#x60; curl -X GET
 https://api.us-east-1.mbedcloud.com/v2/notification/websocket \\ -H &#39;Authorization: Bearer
 &lt;api_key&gt;&#39; &#x60;&#x60;&#x60;</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Call&lt;WebsocketChannel&gt;</dd>
</dl>
</li>
</ul>
<a name="longPollNotifications--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>longPollNotifications</h4>
<pre>@GET(value="v2/notification/pull")
retrofit2.Call&lt;<a href="../../../../../../../../com/arm/mbed/cloud/sdk/lowlevel/pelionclouddevicemanagement/model/NotificationMessage.html" title="class in com.arm.mbed.cloud.sdk.lowlevel.pelionclouddevicemanagement.model">NotificationMessage</a>&gt;&nbsp;longPollNotifications()</pre>
<div class="block">Get notifications using Long Poll In this case, notifications are delivered through HTTP long poll requests. The
 HTTP request is kept open until one or more event notifications are delivered to the client, or the request times
 out (response code 204). In both cases, the client should open a new polling connection after the previous one
 closes. Only a single long polling connection per API key can be ongoing at any given time. You must have a
 persistent connection (Connection keep-alive header in the request) to avoid excess TLS handshakes. The pull
 channel is implicitly created by the first GET call to &#x60;/v2/notification/pull&#x60;. It refreshes on each
 GET call. If the channel is not polled for a long time (10 minutes), it expires and is deleted. This means that
 no notifications will stay in the queue between polls. A channel can be also be deleted explicitly with a DELETE
 call. **Note:** If you cannot have a public-facing callback URL, for example, when developing on your local
 machine, you can use long polling to check for new messages. However, **long polling is deprecated** and will
 likely be replaced in the future. It is meant only for experimentation, not commercial use. The proper method to
 receive notifications is a **notification callback**. There can only be one notification channel per API key in
 Device Management Connect. If a notification channel of other type already exists for the API key, delete it
 before creating a long poll notification channel. **Example:** &#x60;&#x60;&#x60; curl -X GET
 https://api.us-east-1.mbedcloud.com/v2/notification/pull \\ -H &#39;Authorization: Bearer &lt;api_key&gt;&#39;
 &#x60;&#x60;&#x60;</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Call&lt;NotificationMessage&gt;</dd>
</dl>
</li>
</ul>
<a name="registerWebhook-com.arm.mbed.cloud.sdk.lowlevel.pelionclouddevicemanagement.model.Webhook-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerWebhook</h4>
<pre>@Headers(value="Content-Type:application/json")
 @PUT(value="v2/notification/callback")
retrofit2.Call&lt;java.lang.Void&gt;&nbsp;registerWebhook(@Body
                                                                                                                                         <a href="../../../../../../../../com/arm/mbed/cloud/sdk/lowlevel/pelionclouddevicemanagement/model/Webhook.html" title="class in com.arm.mbed.cloud.sdk.lowlevel.pelionclouddevicemanagement.model">Webhook</a>&nbsp;webhook)</pre>
<div class="block">Register a callback URL. Register a URL to which the server should deliver notifications of the subscribed
 resource changes. To push notifications, you must place subscriptions. The maximum length of the URL, header
 keys, and values, all combined, is 400 characters. Notifications are delivered as PUT requests to the HTTP
 server, defined by the client with a subscription server message. The given URL should be accessible and respond
 to the PUT request with a response code of 200 or 204. Device Management Connect tests the callback URL with an
 empty payload when the URL is registered. Callback implementation does not support URL redirection. For more
 information on notification messages, see [NotificationMessage](#NotificationMessage). **Optional headers in a
 callback message:** You can set optional headers to a callback in a **Webhook** object. Device Management Connect
 includes the header and key pairs in the notification messages send them to callback URL. The callback URLs and
 headers are API key-specific. One possible use for additional headers is checking the origin of a PUT request, as
 well as distinguishing the application (API key) to which the notification belongs. **Note**: Only one callback
 URL per API key can be active. If you register a new URL while another one is active, it replaces the active one.
 There can be only one notification channel at a time. If another type of channel is already present, you need to
 delete it before setting the callback URL. **Expiration of a callback URL:** A callback can expire when Device
 Management cannot deliver a notification due to a connection timeout or an error response (4xx or 5xx). After
 each delivery failure, Device Management sets an exponential back off time and makes a retry attempt after that.
 The first retry delay is 1 second, then 2s, 4s, 8s, up to maximum delay of two minutes. The callback URL is
 removed if all retries fail within 24 hours. More about [notification sending
 logic](../integrate-web-app/event-notification.html#notification-sending-logic). **Supported callback URL
 protocols:** Currently, only HTTP and HTTPS protocols are supported. **HTTPS callback URLs:** When delivering a
 notification to an HTTPS based callback URL, Device Management Connect presents a valid client certificate to
 identify itself. The certificate is signed by a trusted certificate authorithy (GlobalSign) with a Common Name
 (CN) set to notifications.mbedcloud.com. **Example:** This example command shows how to set your callback URL and
 API key. It also sets an optional header authorization. When Device Management Connect calls your callback URL,
 the call contains the authorization header with the defined value. &#x60;&#x60;&#x60; curl -X PUT
 https://api.us-east-1.mbedcloud.com/v2/notification/callback \\ -H &#39;Authorization: Bearer
 &lt;api_key&gt;&#39; \\ -H &#39;content-type: application/json&#39; \\ -d &#39;{ \&quot;url\&quot;:
 \&quot;{callback-url}\&quot;, \&quot;headers\&quot;: {\&quot;authorization\&quot; :
 \&quot;f4b93d6e-4652-4874-82e4-41a3ced0cd56\&quot;} }&#39; &#x60;&#x60;&#x60;</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>webhook</code> - A JSON object that contains the optional headers and URL where notifications are sent. (required)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Call&lt;Void&gt;</dd>
</dl>
</li>
</ul>
<a name="registerWebsocket--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>registerWebsocket</h4>
<pre>@Headers(value="Content-Type:application/json")
 @PUT(value="v2/notification/websocket")
retrofit2.Call&lt;<a href="../../../../../../../../com/arm/mbed/cloud/sdk/lowlevel/pelionclouddevicemanagement/model/WebsocketChannel.html" title="class in com.arm.mbed.cloud.sdk.lowlevel.pelionclouddevicemanagement.model">WebsocketChannel</a>&gt;&nbsp;registerWebsocket()</pre>
<div class="block">(PREVIEW) Register a websocket channel. (PREVIEW) Register (or update) a channel using websocket connection to
 deliver notifications. The websocket channel should be opened by client using
 &#x60;/v2/notification/websocket-connect&#x60; endpoint. To get notifications pushed, you must place
 subscriptions. For more information on notification messages, see [NotificationMessage](#NotificationMessage). A
 websocket channel can have only one active websocket connection at a time. If a websocket connection for a
 channel exists and a new connection to the same channel is made, the connection is accepted and the older
 connection is closed. **Expiration of a websocket:** A websocket channel is expired if the channel does not have
 an opened websocket connection for a 24-hour period. Channel expiration means the channel is deleted and any
 undelivered notifications stored in its internal queue is removed. As long as the channel has an opened websocket
 connection or time between successive websocket connections is less than 24 hours, the channel is considered
 active, notifications are stored in its internal queue and delivered when a websocket connection is active. A
 channel can be also deleted explicitly with a DELETE call. More about [notification sending
 logic](../integrate-web-app/event-notification.html#notification-sending-logic). **Example:** &#x60;&#x60;&#x60;
 curl -X PUT https://api.us-east-1.mbedcloud.com/v2/notification/websocket \\ -H &#39;Authorization: Bearer
 &lt;api_key&gt;&#39; &#x60;&#x60;&#x60;</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Call&lt;WebsocketChannel&gt;</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../../com/arm/mbed/cloud/sdk/lowlevel/pelionclouddevicemanagement/api/EnrollmentDenialsApi.html" title="interface in com.arm.mbed.cloud.sdk.lowlevel.pelionclouddevicemanagement.api"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../../com/arm/mbed/cloud/sdk/lowlevel/pelionclouddevicemanagement/api/PreSharedKeysApi.html" title="interface in com.arm.mbed.cloud.sdk.lowlevel.pelionclouddevicemanagement.api"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../../index.html?com/arm/mbed/cloud/sdk/lowlevel/pelionclouddevicemanagement/api/NotificationsApi.html" target="_top">Frames</a></li>
<li><a href="NotificationsApi.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
